---
title: 0和1
date: 2019-05-07 16:50:59
tags: [计算机系统,JAVA]
categories: 计算机系统
---

最初学计算机原理的时候被告知计算机中使用**二进制系统**，即逢二进一。

1. Java中的数字都是**有符号数**，也就是**最高位1表示负数0表示正数**

2. 有符号数以**补码的形式存储**

3. **正数反码补码是本身**，**负数补码是取反加一**，所以负数需要取反加一才能得到我们能理解的二进制数

#### 有符号数加减法

​		计算中只有加法，结果如果溢出,如int33位，则舍弃最高位。公式为: ***[A+B]补=[A]补+[B]补***

##### -15+（-15）

```
 11111111  11111111  11111111  11110001    -15补码
+11111111  11111111  11111111  11110001    -15补码
---------------------------------------
111111111  11111111  11111111  11100010    -30补码
 10000000  00000000  00000000  00011110    -30
```

因为最终结果是33位，舍弃最高位。其余32位中最高位1为负数，则后31位取反加一得到原码为

10000000  00000000  00000000  00011110，转为10进制为-30

##### -15+49

```
 11111111  11111111  11111111  11110001    -15补码
+00000000  00000000  00000000  00110001     49补码(与原码相同)
---------------------------------------
100000000  00000000  00000000  00100010     34补码(与原码相同)
 00000000  00000000  00000000  00100010     34
```

##### -1+1

```
 11111111  11111111  11111111  11111111    -1补码
+00000000  00000000  00000000  00000001     1补码(与原码相同)
---------------------------------------
100000000  00000000  00000000  00000000     0补码
 00000000  00000000  00000000  00000000     0
```

##### (2^31-1)+1  即int类型最大值+1

```
 01111111  11111111  11111111  11111111    2^31-1补码
+00000000  00000000  00000000  00000001    1补码(与原码相同)
---------------------------------------
 10000000  00000000  00000000  00000000   -2^31补码
```

#### 位运算

##### 位移运算

​		1.左移<<和右移>>，这两种是**带符号移位**，移动结果可能正可能负，**只有负数右移高位补1，其余空位补0**。这里使用32位int举例,下面的二进制都是补码

```
                       	<<1	             >>1
 10(1010)              20(10100)	    5(101)
-10(1...0110)         -20(1...01100)	   -5(1...011)
 55(110111)            110(1101110)         27(11011)
-55(1...001001)       -110(1...0010010)    -28(1...00100)
```

​		换个大点的数字看看

```
int l=-2022222221;
二进制补码:10000111011101110101011001110011
<<31:    10000000000000000000000000000000,-2147483648(-2^31),末尾0到最高位
<<32:	 10000111011101110101011001110011,-2022222221
<<1:      00001110111011101010110011100110,250522854
>>1:    11000011101110111010101100111001 ,-1011111111
```

​		2.**无符号只有右移>>>**，**空位全部补0**

```
int o1=23;
二进制补码: 10111
>>>1:     01011  右移一位最左边一位补0
int l=-30;
二进制补码: 11111111111111111111111111100010
>>>1: 	 01111111111111111111111111110001 右移一位左边补0变成正数2147483633
```

##### 其他位运算

​		包括取反(~)，与(&)，或(|)，异或(^)等。

1. 取反，即0变1，1变0
2. 与，即两个都为1则结果为1
3. 或，即有一个为1就为1
4. 异或，即相同为0，不同为1

各类源码中因其高效性而大量使用位运算，了解其原理可便于阅读源码也可便于了解计算机原理。